<script setup>
import { onMounted, ref } from "vue";
import { gsap } from "gsap";
import { DrawSVGPlugin } from "gsap/DrawSVGPlugin";

defineProps({
  width: { type: String, default: "48" },
  height: { type: String, default: "48" },
});

const svgRef = ref(null);

gsap.registerPlugin(DrawSVGPlugin);

onMounted(() => {
  const svgEl = svgRef.value;
  if (!svgEl) {
    return;
  }

  const cls1 = svgEl.querySelectorAll(".cls-1");
  const cls2 = svgEl.querySelectorAll(".cls-2");
  const tl = gsap.timeline();

  gsap.set([cls1, cls2], {
    fill: "none",
    strokeWidth: 1,
    strokeLinecap: "round",
  });
  gsap.set(cls1, {
    stroke: "#ccc",
    drawSVG: "0% 0%",
  });
  gsap.set(cls2, {
    stroke: "#b2b2b2",
    drawSVG: "0% 0%",
  });
  tl.to(cls1, {
    duration: 1.6,
    delay: 0.5,
    drawSVG: "0% 100%",
    ease: "power2.inOut",
  });
  tl.to(cls2, {
    duration: 1.9,
    drawSVG: "0% 100%",
    ease: "power2.inOut",
  }, "-=1.25");
  tl.to(cls1, {
    duration: 0.25,
    fill: "#ccc",
    stroke: "none",
  });
  tl.to(cls2, {
    duration: 0.25,
    fill: "#b2b2b2",
    stroke: "none",
  }, "-=0.25");
});
</script>
<template>
  <svg
    ref="svgRef"
    id="cthulhu"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 150 150"
    :width="width"
  >
    <path
      class="cls-1"
      d="M75,39.43A35.57,35.57,0,1,0,110.57,75,35.56,35.56,0,0,0,75,39.43Zm0,52.45A16.88,16.88,0,1,1,91.88,75,16.88,16.88,0,0,1,75,91.88Z"
    />
    <circle class="cls-1" cx="75" cy="75" r="16.88" />
    <path
      class="cls-2"
      d="M97.1,102.87l.94,1.18a11.44,11.44,0,0,0,15.32,2.4l3.51-2.33a3.51,3.51,0,0,1,3.13-.36,4,4,0,1,0,2.76-7.51,11.53,11.53,0,0,0-10.31,1.2l-3.51,2.33a3.47,3.47,0,0,1-4.65-.73l-1.22-1.53c-.09-.11-.2-.2-.3-.3A36.07,36.07,0,0,1,97.1,102.87Z"
    />
    <path
      class="cls-2"
      d="M99.79,33.37a3.46,3.46,0,0,1,4.55-.61l3.51,2.32a11.54,11.54,0,0,0,14.35-1.33L124,32.19a4,4,0,1,0-5.2-6.08l-1.93,1.65c-.08.06-.15.14-.23.21a3.49,3.49,0,0,1-4.39.44l-3.51-2.32a11.43,11.43,0,0,0-15.32,2.4c-.07.1-.15.2-.22.31L85.79,40.15a4.49,4.49,0,0,0-.41.82,35.36,35.36,0,0,1,7.34,3.19Z"
    />
    <path
      class="cls-2"
      d="M85.79,109.85l7.43,11.35c.07.11.15.21.22.31a11.44,11.44,0,0,0,15.32,2.4l3.51-2.32a3.5,3.5,0,0,1,4.34.39l1.8,2a4,4,0,0,0,5.91-5.39l-1.87-2-.13-.14a11.53,11.53,0,0,0-14.47-1.45l-3.51,2.32a3.46,3.46,0,0,1-4.55-.61l-7.07-10.79A35.36,35.36,0,0,1,85.38,109,4.49,4.49,0,0,0,85.79,109.85Z"
    />
    <path
      class="cls-2"
      d="M39.67,70.9a4.1,4.1,0,0,0-.49,0l-2,.12a3.47,3.47,0,0,1-3.67-3l-.64-4.16A4,4,0,1,0,25,65.1l.64,4.16A11.44,11.44,0,0,0,37,79l.74,0,1.91-.12A35.3,35.3,0,0,1,39.43,75,34.72,34.72,0,0,1,39.67,70.9Z"
    />
    <path
      class="cls-2"
      d="M60.8,32a11.43,11.43,0,0,0-15.16-2.21l-3.51,2.33a3.5,3.5,0,0,1-4.39-.45l-.12-.11-5.87-5.39a4,4,0,0,0-5.42,5.89l5.82,5.34a11.53,11.53,0,0,0,14.4,1.39l3.51-2.33a3.47,3.47,0,0,1,4.65.73,2.35,2.35,0,0,0,.3.33l5.12,5.12A44.6,44.6,0,0,1,68.5,40Z"
    />
    <path
      class="cls-2"
      d="M71.78,110.42a4.06,4.06,0,0,0,.56,1.33L73.81,114a3.48,3.48,0,0,1-.44,4.39A4,4,0,0,0,79,124,11.5,11.5,0,0,0,80.8,110.1a35.75,35.75,0,0,1-5.8.47C73.91,110.57,72.84,110.52,71.78,110.42Z"
    />
    <path
      class="cls-2"
      d="M80.8,39.9A11.52,11.52,0,0,0,79,26a4,4,0,1,0-5.66,5.66A3.48,3.48,0,0,1,73.81,36l-2.32,3.51a.59.59,0,0,0,0,.08c1.17-.11,2.35-.17,3.55-.17A35.75,35.75,0,0,1,80.8,39.9Z"
    />
    <path
      class="cls-2"
      d="M55,112.44a2.35,2.35,0,0,0-.3.33,3.48,3.48,0,0,1-4.65.73l-3.51-2.33a11.54,11.54,0,0,0-14.49,1.48l-5.7,5.79a4,4,0,0,0,2.86,6.81,4,4,0,0,0,2.85-1.2l5.67-5.76a3.5,3.5,0,0,1,4.39-.45l3.51,2.33A11.43,11.43,0,0,0,60.8,118l5.64-5.63c.71-.71,1.78-1.76,2.21-2.32a37.1,37.1,0,0,1-8.52-2.69Z"
    />
    <path
      class="cls-2"
      d="M53.05,47a1.67,1.67,0,0,0-.25-.28.76.76,0,0,0-.09-.09A16.6,16.6,0,0,0,37.13,42.7,16.39,16.39,0,0,0,25.58,53.59l-.12.35a4,4,0,0,0,7.65,2.36l.08-.27a8.3,8.3,0,0,1,6-5.58,8.63,8.63,0,0,1,8.09,2l.08.07.06.05A35.27,35.27,0,0,1,53.05,47Z"
    />
    <path
      class="cls-2"
      d="M110.38,78.7a3.47,3.47,0,0,1,3.63,3l.64,4.16a11.45,11.45,0,0,0,2.9,6,4,4,0,0,0,2.94,1.29,4,4,0,0,0,3-6.7,3.45,3.45,0,0,1-.88-1.84l-.64-4.15a11.43,11.43,0,0,0-11.61-9.74,35.85,35.85,0,0,1,.26,4.3A34.85,34.85,0,0,1,110.38,78.7Z"
    />
    <path
      class="cls-2"
      d="M111.57,50.45A8.3,8.3,0,0,1,117.51,56l.1.3a4,4,0,0,0,3.81,2.79,3.92,3.92,0,0,0,1.21-.19,4,4,0,0,0,2.6-5l-.1-.33A16.41,16.41,0,0,0,113.58,42.7a16.64,16.64,0,0,0-15.61,4l-.07.07a3.8,3.8,0,0,0-.53.61,35.53,35.53,0,0,1,5.52,5.58,4.63,4.63,0,0,0,.56-.43A8.63,8.63,0,0,1,111.57,50.45Z"
    />
    <path
      class="cls-2"
      d="M47.37,97.4a3.15,3.15,0,0,0-.29.22l-.07.07a8.68,8.68,0,0,1-8.12,2A8.34,8.34,0,0,1,33,94.16l-.09-.27a4,4,0,1,0-7.64,2.35l.11.37a16.4,16.4,0,0,0,11.55,10.87,16.69,16.69,0,0,0,15.59-3.94l.07-.07a3.89,3.89,0,0,0,.46-.53A35.12,35.12,0,0,1,47.37,97.4Z"
    />
    <path
      class="cls-2"
      d="M84.38,75a2,2,0,0,1,2-2h5.37a16.79,16.79,0,0,0-3.49-8.43l-3.8,3.79a2,2,0,0,1-2.82-2.82l3.79-3.8A16.79,16.79,0,0,0,77,58.25v5.36a2,2,0,1,1-4,0V58.25a16.79,16.79,0,0,0-8.43,3.49l3.79,3.8a2,2,0,1,1-2.82,2.82l-3.8-3.79A16.79,16.79,0,0,0,58.25,73h5.37a2,2,0,1,1,0,4H58.25a16.79,16.79,0,0,0,3.49,8.43l3.8-3.79a2,2,0,0,1,2.82,2.82l-3.79,3.8A16.79,16.79,0,0,0,73,91.75V86.38a2,2,0,0,1,4,0v5.37a16.79,16.79,0,0,0,8.43-3.49l-3.79-3.8a2,2,0,0,1,2.82-2.82l3.8,3.79A16.79,16.79,0,0,0,91.75,77H86.38A2,2,0,0,1,84.38,75Z"
    />
    <path
      class="cls-1"
      d="M75,84.38a2,2,0,0,0-2,2v5.37a15.45,15.45,0,0,0,4,0V86.38A2,2,0,0,0,75,84.38Z"
    />
    <path
      class="cls-1"
      d="M75,65.61a2,2,0,0,0,2-2V58.25a15.45,15.45,0,0,0-4,0v5.36A2,2,0,0,0,75,65.61Z"
    />
    <path
      class="cls-1"
      d="M65.62,75a2,2,0,0,0-2-2H58.25a15.45,15.45,0,0,0,0,4h5.37A2,2,0,0,0,65.62,75Z"
    />
    <path class="cls-1" d="M91.75,73H86.38a2,2,0,0,0,0,4h5.37a15.45,15.45,0,0,0,0-4Z" />
    <path
      class="cls-1"
      d="M67,69a2,2,0,0,0,1.41-3.41l-3.79-3.8a17.22,17.22,0,0,0-2.83,2.83l3.8,3.79A2,2,0,0,0,67,69Z"
    />
    <path
      class="cls-1"
      d="M81.64,81.64a2,2,0,0,0,0,2.82l3.79,3.8a17.22,17.22,0,0,0,2.83-2.83l-3.8-3.79A2,2,0,0,0,81.64,81.64Z"
    />
    <path
      class="cls-1"
      d="M81.64,68.36a2,2,0,0,0,2.82,0l3.8-3.79a17.22,17.22,0,0,0-2.83-2.83l-3.79,3.8A2,2,0,0,0,81.64,68.36Z"
    />
    <path
      class="cls-1"
      d="M68.36,81.64a2,2,0,0,0-2.82,0l-3.8,3.79a17.22,17.22,0,0,0,2.83,2.83l3.79-3.8A2,2,0,0,0,68.36,81.64Z"
    />
  </svg>
</template>
<style scoped>
.cls-1 {
  fill: #ccc;
}

.cls-2 {
  fill: #b2b2b2;
}
</style>
